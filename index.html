<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Medidor de Ruido</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app-container">

    <!-- ğŸ”˜ Botones laterales -->
    <div class="sidebar">
      <div id="mision-actions" style="margin-bottom: 20px; display: none;">
        <button id="btn-cancelar-mision" title="Cancelar misiÃ³n"></button>
      </div>
      <button id="btnPlayPause">â¯ï¸</button>
      <button id="boton-config">âš™ï¸</button>
      <button id="btnFullScreen">ğŸ–¥ï¸</button>
    </div>

    <!-- ğŸ›ï¸ Medidor -->
    <div class="medidor">
      <div class="dial-estilizado">
        <img src="assets/dial-base.png" class="fondo-dial" />
        <div id="agujaEstilizada" class="aguja-dial"></div>
      </div>
    </div>

    <!-- ğŸ–¼ï¸ Fondo -->
    <div class="fondo" id="fondoVisual"></div>

  </div>

  <!-- âš™ï¸ Ventana de ConfiguraciÃ³n -->
  <div id="configuracion" class="ventana-config" style="display: none;">
    <div class="config-container">
      <!-- Columna izquierda: menÃº -->
      <div class="config-menu">
        <button data-panel="microfono">ğŸ™ï¸ MicrÃ³fono</button>
        <button data-panel="fondos">ğŸ–¼ï¸ Fondos</button>
        <button data-panel="mision">â­ MisiÃ³n Grupal</button>
      </div>
  
      <!-- Columna derecha: panel dinÃ¡mico -->
      <div class="config-panel">
        <button id="cerrar-config" class="boton-cerrar">âœ” Hecho</button>
        <div id="panel-contenido">SeleccionÃ¡ una opciÃ³n de la izquierda</div>
      </div>
    </div>
  </div>

  <!-- HUD MisiÃ³n -->
  <div id="mision-hud" class="hud-mision" style="display:none;">
    <div class="hud-fila-superior">
      <div id="barra-estrellas" class="estrellas"></div>
      <div id="temporizador" class="temporizador"></div>
    </div>
    <div class="hud-fila-inferior">
      <div id="cartel-progreso-premio" class="cartel-progreso-premio" style="display:none;">
        <p id="texto-progreso-premio"></p>
      </div>
    </div>
  </div>

  <!-- Audios -->
  <audio id="sonido-ganar" src="assets/sounds/estrella-ganada.mp3" preload="auto"></audio>
  <audio id="sonido-perder" src="assets/sounds/estrella-perdida.mp3" preload="auto"></audio>
  <audio id="sonido-mision" src="assets/sounds/mision-completa.mp3" preload="auto"></audio>

  <!-- POPUP VICTORIA MULTI-PESTAÃ‘A -->
  <div id="popup-victoria" class="popup-victoria" style="display:none;">
    <div style="background:#fff; padding:20px; border-radius:10px; max-width:400px; width:90%;">
      
      <!-- PestaÃ±a 1 -->
      <div class="pestaÃ±a popup-page">
        <h1>ğŸ‰ Â¡MisiÃ³n cumplida!</h1>
        <p id="texto-resumen-estrellas"></p>
        <p>CalificaciÃ³n: <strong id="resumen-nota">-</strong></p>
        <p id="resumen-mensaje">Â¡Buen trabajo en equipo!</p>
        <p>Ganaron <span id="popup-estrellas-ganadas">0</span> estrellas</p>
        <button id="btn-popup-siguiente" onclick="cambiarPestaÃ±a(+1)">â¡ï¸ Ver mÃ¡s</button>
      </div>

      <!-- PestaÃ±a 3 -->
      <div class="pestaÃ±a popup-page">
        <h2>ğŸ“Š Progreso General</h2>
        <p>Total de estrellas acumuladas: <span id="total-estrellas-acum">0</span></p>
        <p id="mensaje-desafio" style="display:none;"></p>
        <button id="btn-popup-anterior" onclick="cambiarPestaÃ±a(-1)">â¬…ï¸ Volver</button>
        <button id="btn-cerrar-progreso" onclick="terminarMision()">âœ”ï¸ Cerrar</button>
      </div>

    </div>
  </div>

  <!-- POP-UP SESIÃ“N -->
  <div id="popup-sesion" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); align-items:center; justify-content:center; z-index:999;">
    <div style="background:#fff; padding:20px; border-radius:10px; max-width:300px; width:90%;">
      <h2 id="popup-titulo">SesiÃ³n</h2>
      <label>â²ï¸ Tiempo de sesiÃ³n (min): <input type="number" id="sesion-tiempo" value="10"></label><br/><br/>
      <label>â­ Meta de estrellas: <input type="number" id="sesion-meta" min="1" value="5"></label><br/><br/>
      <div id="mensaje-error-meta" style="color: red; display: none;"></div>
      <div id="opcion-sumar-semanal">
        <label><input type="checkbox" id="sesion-sumar-semanal"> Sumar estrellas al semanal</label>
      </div>
      <br/>
      <button id="btn-comenzar-sesion">ğŸš€ Comenzar sesiÃ³n</button>
      <button id="btn-cerrar-popup">âŒ Cancelar</button>
    </div>
  </div>

  <!-- âœ… Script al final para que todos los elementos estÃ©n cargados -->
  <script src="script.js"></script>
</body>
</html>
